#* coding utf8
#* Author: Zoraa Dev/Dev Knowing
# Type Action

from Temporary.Data.data import *
from Temporary.Email import GeneratorEmail  
from Temporary.Useragent import Useragents
from Temporary.ENCPwd import Encrypt_PWD
from Temporary.OtomatisA2F import AccountsCenter
   
class CreateIgWblock:
    def __init__(self):
        print('\r - Author: Zoraa Dev/Dev Knowing - Version: Asyinc WbLock\n - Script: Auto Instagram Create Accounts\n')
        self.Timers(10)
        self.r = requests.Session()
        self.ok, self.cp = self.ResultMe()
        self.useragents = Useragents().Instagram()
        self.head = {
            "user-agent": "Instagram 139.0.0.84.80 (iPhone11,7; iOS 15_3; id_ID; in-ID; scale=color; 720x1344; qcom; 719982544) NW/3"#self.useragents
        }
        #self.resp = self.r.get('https://www.instagram.com/reg.php',headers=self.head).text
        self.resp = self.r.get("https://www.instagram.com/accounts/signup/email/", headers=self.head).text
        self.email, self.cmail = GeneratorEmail().MengambilEmail()
        self.password = "Danar0857@27"
        self.birthday = f'{str(random.randint(1,30))}-{str(random.randint(1,12))}-{str(random.randint(1998,2007))}'
        self.fullname = Faker("id_ID").first_name_male() +' '+ Faker("id_ID").first_name_female()
        self.username = self.fullname.replace(' ','').lower() + str(random.randint(19,999))
        try:
            self.file = str(random.choice(open("Temporary/proxies.txt","r").read().splitlines()))
            self.proxs = {'http': 'sock4://{}'.format(self.file)}
        except: self.proxs = None
        self.head.update({
            "host": "www.instagram.com",
            "content-type": "application/x-www-form-urlencoded=UTF-8",
            "accept-language": "id_ID, in-ID",
            "x-fb-lsd": re.search('"LSD",\[\],{"token":"(.*?)"',str(self.resp)).group(1)
        })
        self.body = {
            "__d": "www",
            "__user": re.search('{"actorID":"(\d+)"', str(self.resp)).group(1),
            "__a": "1",
            "__hs": re.search('"haste_session":"(.*?)"', str(self.resp)).group(1),
            "dpr": "3",
            "__ccg": re.search('"connectionClass":"(.*?)"',str(self.resp)).group(1),
            "__rev": re.search('{"consistency":{"rev":(\d+)}', str(self.resp)).group(1),
            #"__s": "df09wy:k51v4w:relw53",
            "__hsi": re.search('"hsi":"(\d+)"', str(self.resp)).group(1),
            #"__dyn": "7xeUjG1mwt8K2Wmh0no6u5U4e0yoW3q32360CEbo1nEhw2nVE4W0qa0FE2awt81s8hwGwQwoEcE7O2l0Fwqo31w9O0H8jwae4UaEW2G0AEco5G0zK5o4q0HU1IEGdwtU662O0Lo6-3u2WE15E6O1FwlA1HQp1yU5Oi2K7E5y1rwcObyohw4UwFwtE",
            #"__csr": "ggiMF2Yl7FbIPa_AAFfAROWjjJ95GBGaCiVQ8CDVm9DGELG64fA_gjm2eby6VVUR3K9U8VEvUWh1CjKm59KQex62mq2u2aaVqxq9ACwkXx-2i4ETxDzolz88EnUdFUaQ225uE-2aE01pd60mD806d80cbomw6bw2f60oe0uXc1tl06Xgmw09-y08Mw17604TU",
            #"__hsdp": "g9s8Ymh5b9fshaoFu9g7O6U72cwe506vw0EAw4oG0OU0nJw",
            #"__hblp": "w44w9C0jK10w9S3iidyU22wwwt8G1kzE4-0gq2ydwcO0Y83Ngfo0WC1cwRCwNwk9o6q0ZU23w3ao2rw4VwZyo8oaEyo",
            "__comet_req": re.search('__comet_req=(\d+)', str(self.resp)).group(1),
            "lsd": re.search('"LSD",\[\],{"token":"(.*?)"',str(self.resp)).group(1),
            "jazoest": re.search('jazoest=(\d+)', str(self.resp)).group(1),#"2893",
            "__spin_r": re.search('"__spin_r":(\d+)', str(self.resp)).group(1),
            "__spin_b": "trunk",
            "__spin_t": re.search('"__spin_t":(\d+)', str(self.resp)).group(1)
        }
        #self.machine_id = re.search('"machine_id":"(.*?)"', str(self.resp)).group(1)
        self.evenid = str(uuid.uuid4())
        self.device_id = self.dual_token(f"normal_token_hash=&device_id={self.evenid}&custom_device_id={self.evenid}&fetch_reason=token_created", ig=True)
        self.waterid = str(uuid.uuid4())
        self.machine_id = self.dual_token(f"normal_token_hash=&machine_id={self.waterid}&custom_machine_id={self.waterid}&fetch_reason=token_created", ig=True)
        self.regid = str(uuid.uuid4())
        self.public_key, self.public_key_id = Encrypt_PWD().MOBILE_CFG(self.head["user-agent"])
        self.Pwd4 = Encrypt_PWD().InstagramPWD(password=self.password, public_key=self.public_key, public_key_id=self.public_key_id)
        self.Registrasi_Email()
       
    def ResultMe(self):
        struct_time = time.localtime(time.time())
        self.data = '{}-{}-{}'.format(time.strftime('%d', struct_time),time.strftime('%B', struct_time),time.strftime('%Y', struct_time))
        self.ok = 'OK-createIg-{}'.format(self.data)
        self.cp = 'CP-createIg-{}'.format(self.data)
        return (self.ok, self.cp)
        
    def Timers(self, seconds):
        while seconds:
            mins, secs = divmod(seconds, 60)
            timeformat = '* Kesempatan Untuk Mode Pesawat 5 Detik: {:02d}:{:02d}'.format(mins, secs)
            print(timeformat, end='\r')
            time.sleep(1)
            seconds -= 1 
            
    def dual_token(self, data, ig=False):
        try:
            def validate_headers():
                headers = {'x-ig-app-locale': 'in_ID', 'x-ig-device-locale': 'in_ID', 'x-ig-mapped-locale': 'id_ID', 'x-bloks-prism-indigo-link-version': '0', 'x-bloks-prism-colors-enabled': 'false', 'x-bloks-prism-font-enabled': 'false', 'x-bloks-is-layout-rtl': 'false', 'x-ig-capabilities': '3brTv10=', 'x-ig-app-id': '3419628305025917', 'priority': 'u=3', 'user-agent': 'Barcelona 376.0.0.2.109 Android (28/9; 255dpi; 768x1366; Asus; ASUS_Z01QD; ASUS_Z01QD; qcom; in_ID; 719982544)', 'ig-intended-user-id': '0', 'content-type': 'application/x-www-form-urlencoded; charset=UTF-8', 'x-fb-http-engine': 'Liger', 'x-fb-client-ip': 'True', 'x-fb-server-cluster': 'True'}
                if ig:
                    headers.update({'x-ig-app-id': '567067343352427', 'user-agent': 'Instagram 376.0.0.2.109 Android (28/9; 255dpi; 768x1366; Asus; ASUS_Z01QD; ASUS_Z01QD; qcom; in_ID; 719982544)'})
                return headers
            head = validate_headers()
            resp_token = self.r.post('https://i.instagram.com/api/v1/zr/dual_tokens/', data=data, headers=head)
            dual_mids = resp_token.headers.get('ig-set-x-mid', 'Z_9MUQABAAGGsWZlj2lKukBxTkfj')
        except:
            dual_mids = 'Z_9MUQABAAGGsWZlj2lKukBxTkfj'
        return dual_mids

    def Registrasi_Email(self):
        body = {
            **self.body,
            "__req": "h",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"event_request_id\\\":\\\""+self.evenid+"\\\",\\\"cp_funnel\\\":0,\\\"cp_source\\\":0,\\\"text_input_id\\\":\\\"23977275500115\\\",\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":null,\\\\\\\"contactpoint\\\\\\\":null,\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":null,\\\\\\\"is_using_unified_cp\\\\\\\":null,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":null,\\\\\\\"birthday\\\\\\\":null,\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":null,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":null,\\\\\\\"username\\\\\\\":null,\\\\\\\"username_prefill\\\\\\\":null,\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":null,\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":false,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":null,\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":null,\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":0,\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"23977275500158\\\",\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\"},\\\"client_input_params\\\":{\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":\\\"\\\",\\\"cloud_trust_token\\\":null,\\\"block_store_machine_id\\\":\\\"\\\",\\\"email\\\":\\\""+self.email+"\\\",\\\"email_prefilled\\\":0,\\\"accounts_list\\\":[],\\\"fb_ig_device_id\\\":[],\\\"confirmed_cp_and_code\\\":{},\\\"is_from_device_emails\\\":0,\\\"msg_previous_cp\\\":\\\"\\\",\\\"switch_cp_first_time_loading\\\":1,\\\"switch_cp_have_seen_suma\\\":0,\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.async.contactpoint_email.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head)
        if 'CAA_REG_CONFIRMATION_SCREEN' in str(response.text.replace('\\', ' ')):
            print('* Registrasi Kontak Email: {}\n* Url Kontak Email: {}'.format(self.email,self.cmail))
            self.Registrasi_Kode_Email()
        else:
            print('* Spam IP: Kami membatasi aktivitas tertentu untuk melindungi komunitas kami. Beri tahu kami jika menurut Anda kami melakukan kesalahan.\n')
            time.sleep(2)
            CreateIgWblock()

    def Registrasi_Kode_Email(self):
        GeneratorEmail().Timer(5)
        kode = GeneratorEmail().MengambilKode(self.email)
        print('* Kode Konfirmasi Email: {}'.format(kode))
        body = {
            **self.body,
            "__req": "m",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"event_request_id\\\":\\\""+self.evenid+"\\\",\\\"text_input_id\\\":\\\"24005531800090\\\",\\\"sms_retriever_started_prior_step\\\":0,\\\"wa_timer_id\\\":\\\"wa_retriever\\\",\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":null,\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.email+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":null,\\\\\\\"birthday\\\\\\\":null,\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":null,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":null,\\\\\\\"username\\\\\\\":null,\\\\\\\"username_prefill\\\\\\\":null,\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":null,\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":false,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":null,\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":2,\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"24005531800124\\\",\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\"},\\\"client_input_params\\\":{\\\"cloud_trust_token\\\":null,\\\"block_store_machine_id\\\":\\\"\\\",\\\"code\\\":\\\""+kode+"\\\",\\\"fb_ig_device_id\\\":[],\\\"confirmed_cp_and_code\\\":{},\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.confirmation.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head)
        if "confirmation_code" in response.text.replace('\\',''):
            self.encrypt_kode = re.search('"confirmation_code":"(.*?)"', response.text.replace('\\','')).group(1)
            print('* Encrypt Kode Konfirmasi Email: {}'.format(self.encrypt_kode))
            self.Registrasi_Password()
        else:
            print('* Response Error: Gagal Encrypt Kode Konfirmasi Email!\n', end='\r')
            time.sleep(2)
            CreateIgWblock()

    def Registrasi_Password(self):
        body = {
            **self.body,
            "__req": "r",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"event_request_id\\\":\\\""+self.evenid+"\\\",\\\"spi_action\\\":0,\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":null,\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.email+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":\\\\\\\""+self.encrypt_kode+"\\\\\\\",\\\\\\\"birthday\\\\\\\":null,\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":null,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":null,\\\\\\\"username\\\\\\\":null,\\\\\\\"username_prefill\\\\\\\":null,\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":null,\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":false,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":null,\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\",\\\\\\\"CAA_REG_PASSWORD\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":3,\\\"flow_modifier\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"24052543200129\\\",\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\"},\\\"client_input_params\\\":{\\\"machine_id\\\":\\\"\\\",\\\"cloud_trust_token\\\":null,\\\"block_store_machine_id\\\":\\\"\\\",\\\"encrypted_password\\\":\\\""+self.Pwd4+"\\\",\\\"safetynet_token\\\":\\\"\\\",\\\"safetynet_response\\\":\\\"\\\",\\\"email_oauth_token_map\\\":{},\\\"whatsapp_installed_on_client\\\":0,\\\"encrypted_msisdn_for_safetynet\\\":\\\"\\\",\\\"headers_last_infra_flow_id_safetynet\\\":\\\"\\\",\\\"fb_ig_device_id\\\":[],\\\"caa_play_integrity_attestation_result\\\":\\\"\\\",\\\"client_known_key_hash\\\":\\\"\\\",\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.password.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head)
        if 'CAA_REG_PASSWORD' in str(response.text.replace('\\', ' ')):
            self.reg_context4 =  re.search('"{"flow_name":"new_to_family_ig_mweb_default","flow_type":"ntf"}", 4, "(.*?)"', str(response.text.replace("\\", ""))).group(1)
            print('* Registrasi Password: {}'.format(self.password))
            self.Registrasi_Birthday()
        else:
            print('* ResponseError: Registrasi Password Tidak Valid!\n', end='\r')
            time.sleep(2)
            CreateIgWblock()

    def Registrasi_Birthday(self):
        body = {
            **self.body,
            "__req": "v",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":null,\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.email+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":\\\\\\\""+self.encrypt_kode+"\\\\\\\",\\\\\\\"birthday\\\\\\\":null,\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":false,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":\\\\\\\""+self.Pwd4+"\\\\\\\",\\\\\\\"username\\\\\\\":null,\\\\\\\"username_prefill\\\\\\\":null,\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":[],\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":false,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":[],\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\",\\\\\\\"CAA_REG_PASSWORD\\\\\\\",\\\\\\\"bloks.caa.reg.birthday\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":4,\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"24090707000206\\\",\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\",\\\"reg_context\\\":\\\"AVgEJSDDzwzrUc_Fh2FUh0x1eIMjqJzWU4oqxSHF5blGzR1yZAMzdklOmTwYJTR4nBNG4AKFCXzAfRnY5HxOpvdh1KFNGGvJAKA9j4Kg89m6HLwbUOAls0lajB2cwMzMrL2N5ErilyMfWMxv0aF3dvafhkw7aOkbBi16TGCF96cn6T1VYmPQMJ-P-XVFRk4i42NYjRSUARfERdM9-ygsEAXb668NsxLlBgi_EITOXS7mTqa1xDh1w86vAP7ZXX6vDdWhNTy0hKTWDUsmf6SvJCr3BYdX7DnU5h2eNo-ogDOfULVFK0leBc12a52w8JyVlr0yjXOYs8Bp5GJGF_Xc4oqkjzRAraBvJE3o9tjZvQI5lg0CP2vi_S6-P56vgn5SdSIGWOYSIxM8r10PyBKbCZcfINXL383KzAjKsPfqaWHztlEY_6AldGlHT6-hlzWh_0pLweQB7-hZy7hwJYNcQ9c1W-eGXmmp1oPmBgBOSveP8v5BKcvUzqlh2X9GfusN39lWuQcd_UU7g3UhEJNkCj3rtcG92ahIuzJJw2ucPcvt2c0XYsGTBj-1xKxQHUiJWkTCyLCnri960aohAlInihY3RnJawHB6C6jkQl84EWkLOMH8-6pdaqwL-EbkXGgk9B_iQjsN-Gd657fxS7hT1rWzseU3pEID5nIbGGG-nNpQjfjddUwDbnOoCcQSzx-8_INny-wuoNp9KO8cC3JsG26j6eqNZ7FCyEAkfhJvBc4mRZh9lTV_HAlhXQhhf9l4EpcSbBBTY3uVN_IPhB_0tfAsxlbYBD8ZCXkLml4GNZ2vi9Bih5TbOAb5W1ep9b9nJJ4yE39VBF0f72Th6s2C2vVEs15N5u2o1Sw1NBF8gxfYhLZXnnEs1ZZKdWA4ujIHpjqCasKoRc5sTb_Bvxn-CHtff0G-1BpJ_qTDjTYHuj8d7JxD68cgpk8X7kR5GHYmezmWz5_K9VDHBlnVQIbfl6uT7H9xybI246Eb99mEjddgMjdCsAu53LjePLLsQx9e5xCpR7iNBzE4HGlKlnmVZY9jZzRnQ8aRRFrRKOOvbZybzPfQuDB-QyE8Kz30jjNxaNXvik12Sd1soskSZsdw-21HbhFnu8SkgZb8AZ9m_cTwqHArxKU-YZ-Pz5bAJIFgr18Am246ibkbEnxFMtdzGvYcjv_ZjGFCK7mBZwvPsV1ikQSYLJDvn1cWSYrjlC3s_o6X-geswNN5K1c6zY8ilHZxk9Z4u7myinywn2Qqb9_cfZdeyGtJcEYKUkwj5xp4x4Xb0jSOCj9v-pERG0TWpzZ2HA89icZHZjAhf1jx6GBDp-INu42YBYxl2pjGPrBkLC-slBAoJY4fFhEZhM-J0_PxbZNdLLYY7jOF3qpYv9e87BJs2n2cWjfBqCmoCDwLRawD38vgYR-LilbCceAQB85T6yA92Iy2RTqmCw-PiaYBFZcOfhFdu1V8bnTEjVls9ZNbTg3yip3kj899jd7zUZkijGwET4b56oXh9CHDxWvbTRtCgbQkN-D3S3-3gbR0tLXf1CZskt98kmzFXMeHbkmrftFFlkimTQhlSh841qsPJ7g6srYhX_8YdTpZCkrOShawvH7MTYfX-AWpEQzm-WbNJsqdtc4Y76_33BJvQOknW3_2n9HIdWbzOG9E-toDoOnxXZjigxnOOyDubjPl9jxurs8BtTipeDEH6yunrd_bOUmGRagVC6lh6ScnMmewmDm7r97AoQIirxxBiE2jz9wEDsoMBeG5_7HX_mg1rEGxIBM9klKXnSmm_OWzaA1D24lQqQPoZWL0Zhcp9R_mJfcQ-Xh1P6Z70iLwKU9L2NGwf2Lv98BBbBLhWqjMlgMDc9xvNPa7ed2FktMbdaub5tiUFWwi31Eaf_4TscCnIfFar6j_QXi7HYZY1C59zKRM_QaV_Ny9VueKYnM6d0auaK1IUpoSGYZIuEriZies3eO_PuIVJbACtaB-KDE2aOgFOmQDSSb69sL3cH9otmf2Ad-8FXkDP0qN4v4BPGfAEIM2QaUBsPnFdisg4bkOhfmBN6vVbfSaqPbdcN8Estz8_esINYSh5ki2QUIacFqQrkedZWh8bD0ZuW9PNGR16qkGrngtK1Wl4gLppeAZSUUeCGUb-yLcrFr0JjUtqtkljsTLkknT_BPUhzFAOSE2S8blF7AP1W_qbIyEMgcjpc2BshhjfhTkSK82wJhxXV2WFK673BCR0ZL9ep6xZakjPIS1DApasrxDgXInvwkEBNhust4JE2UVUJvA2iTnnk6JLs-uBzkzvOv1-fMaG1PB3aRrkzTg2avkhlPSpHBYbSLTE0TzfC4hwnbTA4LF5FubYa8ZzaBYFjuXHOjUM1BjKmHre5ncIYAhklZRX6nR5o1_UhG9ollQFn9nBezUELlh5q8xfdji60QNDWyEHlF1n9kVawm6r_Fz0RSwzclkUG-nxlpDmAE4zfgtZFATAymXMJJOKuhhsovd9elrSVUTpq3eJnJcpY8fBJL2cXlwXIGvswNsi7Yp7hUTZaIhu5QY0fYJymx90LcJPVUgl2IGreMPWn4gHeBZYkIL-GXk8lryM97Dh-xU80yc-BGl6CdpGqWhFyD19RXlOhjdsAVDB7-b6bOtVbZwXs2geods7KYUgdaZmCgLZn132Uo6f4VoM0lWA4CufGaZWt3KswhOAzWErwTKHsa0tFbWbVwVuif1B10MMrnbk6HHHO0sfOM7wAAyfiZDLhVeOm0ZkRrmTbVJ9x5Nxeh77cSglF3k42S5FOCkFTgsgNDH8r4goCnbIn5SJwbXRDVozyu-bu02snwyJNjZDUdlxyeBk4bHvZ1mLpzGwAwgGZe-4aTBRE-AKYeJ_GqU087bkXOMpKuH20L57-4JDazkhv_OKFxXBebfQlLWj_zMhIzIhZ3OhefeRz8eVbQXyIWi7_KHUC3lnuw6NFt9Mu33dVAecEopx2V_NYHjGx5WM9_Tw-8KlTRndJ3N3tVHwDXya2O9hLqoRwQMU3IHer2Ztisflt63v5KmgLzUlMwomM3mf0eDZyr21DTJQPdyYAy2n7TW5DoqWnAA-1NsReVgck2aMZgIDDVfvsOsGyCkI8HAlnzGb67tTPlxMinQhXQgQyrK4eVRmf20ExiAfvIpZbeV2OJ7u_BivR5NQtawarLMRPdW9h1es7vnXlsfZdWPJtuWJbqu4i-cYWVyQOdTCFtA5U4-KHKA8Z55z3ExhjvapMjoXlVonxdjDIq8jPV6B9tvtww1kSkPj6GYKRxCF23SQ3KXW52o_HMEzfZAbAWYszf_8o1JYw5HTILExwl0dHi2Q-CZCjFER77COceaaT-hGblJ5myghxmTWU86XQnnFcjbpsxpgw1SV-XQtR_GyFdc2re24QlM5E3nufCSvds8psM4ArccDMZJiAj3QElONemGhK9R6aiIEcKyD5O34B1kiSn0Luk5oEbFG56xvL-2UanxCgkVrJ3-TaD4uAoPPLOrGSeiakiG1IM8luc7P7EdyviqpF3GLlcBO8lSGLPbEAbl8hL8Em2XQcq0drfTmYiYnz5MvNtvPwBbioc07-OdXC2ScZ3_0ttoM_Sarhluh8DuUJ0YyqcAW8eMAodlI6eJU33Zv6sw8f2PsQr94qQghS2csnrajzvPnDvOcM-r5MAPQ7abaSqbpaklT6HSXEBmEHukbl5TnPL7QfbGBCxWFQ45dz05p3ZUu7rmwL_jMF1HZDcJ7kzBtM6anSJCntMKN5JIFPZpohP3a8WA6E7cRjyEW97JAm_Vciv48qIacc6LjYHxfEwfphwmaOkDtgJlRp0rj8lWVqZeatKBHJnK5xvXI7zw_0D8c26YDTFdn12Q_yHc1dHbzEo3eSe-xBxcuMMFJcyLiUImbv9I579YVEaLdm5LUbk0bfHNQaIS3px3IzHmsZvPG8hFHWTIo5nvMgKE_4buRZP-xjoZh1mGUDZN3D4zG_TYU7Q3p8NM9Iezj2I_nlDXZmP_Dv9qNVy3jWh2pwI0mAo8X_Jln_4GJsTYzw-Fvn_xfbKwRp6ZUEwQDdyHd8OOTcual-QtfKEZslHlMwqHI3MzqvDCOOmQpAiIShzzA-y8AozcURFbcDujeA4ErrRLEThlfa4likLfAGziwopXjGr_lpKP-n9Nc1fAuTaSNLxTs1q8zaW9Dq2qpLYQl17UXkZDkgyRAAjuSTB4jF82UiC-7mb-ZjbkbhlB6w53faAQxvuRNjKKqK0qTd307FwW2HvGo1lp7bQdOuMVt25CxKCmAJgpOAeMTvq3eyKlwGIrrRreS-LC4msZci87Uh1oHrWctBM3ASed99ywPL0WTlqu2DcjUOyWzD8okCRFMq7ufECgQ35BQatbw9FV_ns9agKbV9m3eX12XsEEqE__i675-AgGYYR_x1INZIFlb5_qWaXkEiUlrrY-0J9r4vgCz-QzhI9p4P2LJ-697BxbT_upBztaXTAtFwhfBeuFPlYQzYinfKRueyVsYXsYimwx4ESAAcQdI3jaRZgpjZRRZhAZMSQm1Tly_a2tvUC85PlkVNqvzvvJFIV3RJZVLDLpwGHv43aUpC1g9MsyD8SofrhTUG0kqvPbHXw5Jem9FP74kpYsztwNzJwcSe0em4D1SbuaSAF_DkadoksuEM-NEnhw2qQpfKPTrJ7aXCD2NxQbM0jAEE0UZW1rk2RICjhc_8stLYUeW2SuMXYvBOPA7Xga2vsL_Lhuy9NnYc3oWZoxI-17Yy1siw18ha5hsa23IY8FliSRFd0BJ2GUgqjDTh4S-6FHOTpxTWAmX-NjLEaYgEItSYj5jnInLKg3RsFcvGmSmkiMhtsnJA3mbJobCf2nn3Rmwu5zpgrsC0sX5bFulvWInJl-Xw3uyZRzsAWqapwSyDaunKDLFSdJKScLScDO0i75a5NoWphMehKApYxh89NfTb2T39JFt4xS-5kkIpuNW4IHq86_U1hoBkNSpp4KwCeZF7uc-ncofKpabPQN0TSM1dck0H5KwZcpf-vE4Nsb0GfIq8ymV7cjDMZHHPtGeJfbYI0O6b5qViCC9qtgsYTQ2vFVdiW5RKdNR3riS21FXl4K-PR7pChQxgQPXjoeDTYgMC2FPqG3U4v_Y4V-qEN_1A75Wwf_rKIli03_MEOKoPBEaxKBH5cHHWtTjY_vOhqDLfTtjvEAwuhhqHo8N43aGQLpN3h_0ZmzECzcc6ta5WH51B366XXR6zJ3AAeIAqaeiU0bTB_GRd7ZrBkYYtXzIEULZXlvi1ZRwkeFE2aL3R-bRZbMGYQr9x5RXf1v8ErKv5KGje_TUVt4Nbcsw9vyvmgGHTa3NtLOoDj6mEACM_lRM65fNGm2u6NqUcLBjoUoc7gQn128pLCGnGf4gmn2L_1jYTuOzE-00FavUu2MgtlprBHicM2-WlKw1IjraLv3o0dcg-4KhMbix-yAwrNBkC04RwwA5_mhaAw9ihyx1Q4Z25HI6yq7o1msei9fqG7-9LzaSXS3Iq4LwLxCvnkUzPpP4b9wKzCSVhoD-e01mcvGJS4y-9HFPNz6VuZyVwPW5bihfb-EHDXabYGUiWnBMYDuUQoEMoIjuYUURDAxlv8hql870gHpjQU2W5Pt-G4umzaQMBbDORf8thOHH7xi-mWFmQb6JMpxUfLx9i0HfWr5cNsJTC0qgGTnIwxpKXD4Q7MuQPOM4wEvlBlWKtb91r4z59DMDRQtCJqS-zePUTgGaa5H9DEV-VnJW0Srd-wDF_JUYa_fOe1mqX1FasKiWnQjGDjus6LpaGg7rdJCyuIAo50i2g7jEOLYqgETdJMGT99KLUmrBg1lY1miLCOotBpBQgVK1Cbo8mbL0GSsZiV9aMgoFMYvVVMjTihiyFjTvuVuYPhyr2QeB4Zz_qyuNywJIyNG5JKx24X69KTnkO-mN2MhnLTl07C9uDRIsZZbeqPZk5GwoyPOkzbX8T2aVecGhDEsjuVDNwfZsk_g1xkAROamiorX2n7rRKqkvUiFb1FhDobUH64NwgacIDmbqTNtOvI0l8wH8J9shyFb68TbYuez1_wKzm0mnmp6l7vJpsY2VD06ABz3LKkjqX_kxc0eq0lFQnHjNf4TUADe5jtbxNvpaCKEzh2ORv0v_lIEFfagsCztXLvETmIjbnvNPMsBIJpuNRVpbL90TjhEVOhuALcW-gKzxzMhSZ55TFc5U7e3KZfviXDrqFtEPeNPJ6mdsEyX5QpSJWjGimdclBaHAXr4fk-KQes0uc9J_rYyqoOBlIAKvjpU7DlzWrabU1CNsmiSeFIU7WNJdEN1K0cG-amKcEvwh0QbF5IYolG5pONrlhMFzK2g7JHzkeQ5vLgk4BZXQqM1aoxBFM-ThkFO8wTmsWxiFddPW3d6DsT0qFnUPmywH5uHK7E81v8_91XS091g4sYw8jvcVw9ahyx0KUzCXPCFfvCBrPJz-TlLY6r_RKPf723Aht4l_lN1PWZzy7JDd53LkIRXbIfFrmHwtXpXV_sxStR7B0DoKClUK_xNDIqnfXDSTJX8zwot-yFS7mA5bDF4UbqZi9soA-8xU7adcg3GRUFp_XxreO5acwRk_5KYGVAMuZ4n3BplbjnsnIRHKStvUW61HWdVER089gMZhnV3Ki5YK2R5SwFbmTbO9qoTxcyKEISL31UTcBZ0dBtMAZOYdKBVqXsXCfMffS09XmxS9nQimmbjvsHQGqKxIP0mi8MBiUjAc_weMkG1HswzzcXt7J7YjS-gCmVCnaJfeZEJliqnSW5a7BB0reyB-A35IEAwazSPuEw_Zx39PriIeT5nsH52fFp3ZrrQ9XxEx4RrOlQxcFVTJwBy5jhqfUgVXkzbkX5JycuG2Ef5hoL5t7GpS-spUmUiLkP9U_mQnzc1NZLrCYCLUWYeC84BaTbMA_wVDvoioBVPhjz307pITbCGMM6rpRMRawppi2_pebF-_--99RRA99klJl51davgbn63GSKSoKwFtzgNXZfSLWWA6NI-pI8DRortIWyz9mm3FDOI8rJZmDjrLxVHz-YW7NjQRU4UPpS0e5fhD5GaIYZ-2JO1PB7HBIvRxn4-9fdOojxcWQ7FxbT3wKTMHkmpRrWFlUg6fHZ6OwTebL8HKHwztjarRw7bkuK9_GpjrJbH93GdxlY2Jf_Y7u4isQpC8y33EddZie8jyjUbikOQU2JH_rdF5ux0ilGppUFx2rax4wHPbzkXvYd2F3Mdx_0XfZJJboSm5s4vwi1HgUmu0E3LcNyIKMtVawAm_1W93LkbsXKejv-c4sEQNUZk0HvVfX_Ihqtj40ft0YrbKYD8z_q-e4zfr4fuY7B_y2gGNqvDGmm-VOUcIZ5_ldWApfb5mzqUnTBDQl5Om_DdYfUtdHRQoz4ZMiiWb0ifTCyBcYnGG-oiRvDzH5AdWkCulaIkTlvp1rfovqYvqfTlondUE2ODPpDPTICaaFtgmu-jje_a24ePValmuI90GsW0UvxRQJ8-rr1INfj_NnZsL9CvkQJnV38JtEIlU4EsfmEB8lc7CkhEb0iWV1_KXJ4L2dRdrFGV4sCZRQ8gggYVIZry7PDwyHt7XNjxpjZNyz-XguN5p2fMpcrwBpK1mG0prr_8tF0_fEj3Tm4TmcT0wjM0VFRCc_rjS9IPwUhwbnyhhaEBTcnZzYfB8PWzk5c7HE8yo8ziRnzEr46-ituy|regm\\\"},\\\"client_input_params\\\":{\\\"birthday_timestamp\\\":"+str(datetime.datetime.now().timestamp())[:10]+",\\\"should_skip_youth_tos\\\":0,\\\"is_youth_regulation_flow_complete\\\":0,\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.birthday.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head, proxies=self.proxs)
        if 'bloks.caa.reg.birthday' in str(response.text.replace('\\', ' ')):
            print('* Registrasi Birthday: {}'.format(self.birthday))
            self.Registrasi_Name()
        else:
            print('* Response Error: Registrasi Birthday Tidak Valid!\n', end='\r')
            time.sleep(2)
            CreateIgWblock()
    
    def Registrasi_Name(self):
        body = {
            **self.body,
            "__req": "y",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":null,\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.email+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":\\\\\\\""+self.encrypt_kode+"\\\\\\\",\\\\\\\"birthday\\\\\\\":\\\\\\\""+self.birthday+"\\\\\\\",\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":false,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":\\\\\\\""+self.Pwd4+"\\\\\\\",\\\\\\\"username\\\\\\\":null,\\\\\\\"username_prefill\\\\\\\":null,\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":[],\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":true,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":[],\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\",\\\\\\\"CAA_REG_PASSWORD\\\\\\\",\\\\\\\"bloks.caa.reg.birthday\\\\\\\",\\\\\\\"CAA_REG_IG_NAME_SCREEN\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":5,\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"24142889300098\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\"},\\\"client_input_params\\\":{\\\"name\\\":\\\"Dev Knowing \\\",\\\"accounts_list\\\":[],\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.name_ig_and_soap.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head)
        if 'CAA_REG_NAME_IG_AND_SOAP' in str(response.text.replace('\\', ' ')):
            print('* Registrasi Nama: {}'.format(self.fullname))
            self.Registrasi_Username()
        else:
            print('* Response Error: Biasanya muncul ketika pengguna mencoba tindakan yang dianggap mencurigakan oleh platform!\n', end='\r')
            time.sleep(2)
            CreateIgWblock()

    def Registrasi_Username(self):
        body = {
            **self.body,
            "__req": "13",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"event_request_id\\\":\\\""+self.evenid+"\\\",\\\"screen_id\\\":\\\"24176987500000\\\",\\\"input_id\\\":\\\"24176987500019\\\",\\\"suggestions_container_id\\\":\\\"24176987500017\\\",\\\"text_input_id\\\":\\\"24176987500018\\\",\\\"action\\\":1,\\\"post_tos\\\":0,\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":\\\\\\\""+self.fullname+"\\\\\\\",\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.email+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":\\\\\\\""+self.encrypt_kode+"\\\\\\\",\\\\\\\"birthday\\\\\\\":\\\\\\\""+self.birthday+"\\\\\\\",\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":false,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":\\\\\\\""+self.Pwd4+"\\\\\\\",\\\\\\\"username\\\\\\\":null,\\\\\\\"username_prefill\\\\\\\":\\\\\\\""+self.username+"\\\\\\\",\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":[],\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":true,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":[],\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\",\\\\\\\"CAA_REG_PASSWORD\\\\\\\",\\\\\\\"bloks.caa.reg.birthday\\\\\\\",\\\\\\\"CAA_REG_IG_NAME_SCREEN\\\\\\\",\\\\\\\"CAA_REG_IG_USERNAME\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":6,\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"24176987500021\\\",\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\"},\\\"client_input_params\\\":{\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"qe_device_id\\\":\\\"\\\",\\\"family_device_id\\\":\\\"\\\",\\\"validation_text\\\":\\\""+self.username+"\\\",\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.username.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head)
        if 'CAA_REG_IG_USERNAME' in str(response.text.replace('\\', ' ')):
            self.reg_context7 =  re.search('"{"flow_name":"new_to_family_ig_mweb_default","flow_type":"ntf"}", 7, "(.*?)"', str(response.text.replace("\\", ""))).group(1)
            print('* Registrasi Username: {}'.format(self.username))
            self.Reg_Tos_App()
        else:
            print('* Response Error: Nama pengguna yang Anda inginkan sudah digunakan oleh orang lain, atau nama pengguna yang Anda coba masukkan tidak memenuhi persyaratan Instagram!\n', end='\r')
            time.sleep(2)
            CreateIgWblock()
        
    def Reg_Tos_App(self):
        body = {
            **self.body,
            "__req": "15",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"is_platform_login\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\",\\\"tos_type\\\":\\\"standard\\\",\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":\\\\\\\""+self.fullname+"\\\\\\\",\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.username+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":\\\\\\\""+self.encrypt_kode+"\\\\\\\",\\\\\\\"birthday\\\\\\\":\\\\\\\""+self.birthday+"\\\\\\\",\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":false,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":\\\\\\\""+self.Pwd4+"\\\\\\\",\\\\\\\"username\\\\\\\":\\\\\\\""+self.username+"\\\\\\\",\\\\\\\"username_prefill\\\\\\\":\\\\\\\""+self.username+"\\\\\\\",\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":[],\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":true,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":[],\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\",\\\\\\\"CAA_REG_PASSWORD\\\\\\\",\\\\\\\"bloks.caa.reg.birthday\\\\\\\",\\\\\\\"CAA_REG_IG_NAME_SCREEN\\\\\\\",\\\\\\\"CAA_REG_IG_USERNAME\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":7,\\\"reg_context\\\":\\\"AViGJaNiHRo0pxm5-drEPaQhsrkKqO4hqABJD6cJnsRCPVbcXa6DmQhTlifo9oaQfuLE5VkGS81k4F-lTAo4CGF5pNY4go7xRm3uodzv930rqpzGlFFpn4Ae3Ovktnllsxxq9mbEMpNYcVBoETMaAhd9nVS_SVzJONibS7YPcF6P4iUmga1dtd1UPHBfNCl8XPtU7RIDDTjqlec278oN13qx4L3IKMRMdxDDcvx-me-FmPpzbs_-JzFUjkAuFWQIOriqTS9-VLcA_t0VvFCQboRpWqv-aMmgJ6Lnjvf7kFlO5OTDOXekzZwYq7JvZzccOFVnzuAR8KdO4CXCcNvrrS_ow_JTVnUcIi9hHyW1GINdYovf1RUCluzqUN0ZIritHrilJ-F_47j9pUv1e7scg8OMKqvKnZOq8TSb_2ogmMqaK6_jRZgkRkHmz_6Qu-msdiQfexm9qNu-f8W-rxkaSV2J9vCk1b0Dlpn9bldnC_4cMiA4POqhHkIT48n-Oc0LCOagfjam7DGa2uCAMgjvz-yZiCGEUEZL4loY9RNmrwNrlEo83TQ_zdDfguouwdPm5s4DEcMUVizAt0R19CsU6wS8Jv-RYszs_YiKOEzBfyJfAV_U5gQsU2XNKw7LnvOtOI_HqZ4D1h8cxh857eoAAz1Vh-COKXhJKZXkVX_Dyxj0yiKQnpUusT7ekbmXufaGg-Q1-293fRrQFDxRx2o4YEOn5GkdIbbSS4NT3y1CfrRSPZF7B_kUOZ1Ez5egNeBqyMQK3gZcPAlKynsC94dAsXtcQswfm1X-YBXyaPl0oEyEUk-bS17Iv8gU3zR5fbOkiCIwSBDIAwpC-dZBTSSyrqI8ch3AFcaTUy6ZcsV9_VkLgZI1sYCxrK4DayQRXRaBTiXvzS5yfoa3dcachnRwR6vBRViXFS8TRkfdFJjsYauRk6xrACsjxpTPLPXcIstcr6gepLRHCkCDHtVc7M1l5nx061d7QfBiAZT8bHbm2C_pxKTNN_gdDfxlrs-vxFlJyKCDoDgpDYEENSQSxwT2jPZogqaIqgZxw9qVFpxh_MW4cwCBJCGsRcqUygvjSR1sU3j79pBWZVGLIBoh8aNtkFCdulk_A1pi6X__gA0OeZFuUqtrDYD1qTXKhhmqfDhT8i-aFRnX-d9kYdaxaYUE-0GRCmpWalDJ5zoa9Zx94WAAnqEE6jUOBKUPIFIs5xTAJRXQApn30MNUq_hKd7n33uNCs5Ub47H1a0IdHZx6BFXAcmcFGY6pe_5UpeGlOQi7Ggv4ufEoggd8dKnD-95oNhbBSCugH4PZCBWfqsTq3D0288ki2VmjlhvcjINHOGctEnKXnKjO5PwbLdSKR4cGTsFj-hESuTrGApu52rAFNkRfFsv8LB_FeOZQozDkYacE-u6ddEelXwpW-V2JIAbNAGY8k6YF6CKlwj2XeEBeXrP2fO80mKm_UnvHaWZJwPWAQdPlN2pUNImE1q6zgPzy1RN4qUd_yOgwTYhH_mIDLiaUAodxQvK_JoJDvyyuTaukq4S5Gplip1wiUp9WCTo0_K47MNxxMGqVeSC3bRdfcn7xQHRsNrdQ_4rWCW6sKIZdJjxUcNifNLZ9JFInI8oxOVz2XKZaoZRXAfyJPncbgPONiJ0h7Nn_tc1__aiUGgs8o_EC29Ka0B_q_dbJZcG-7zUCOAxRPTiJcdUTkQGavnwmFQn84hXIcnNabiUzo2UfCc-7LUFutA-Bw_ydyD09gtFHEo8syyVv_K8vjPjvo5eD7hKzmZx1gcDTE_9L2ZCpJEluFizDnk3eiyFIs68cPdi9tIr5RrGFyKJFjBGKZbKaKsGOLlhhI0gJAlW4loO69z_GA3vHKYLYhpM8dBClr5cTH8MR90sYGWXpI7X8n-rbF-CxQplhXNgZKEaoy6AUBeBKSMgVYDlhkqAeD1jMClQqnhWxxjsaJKkrz1jkRPlrilQKYFcsN-FJOTzarw4-FfAUCcC96wLvXoypdgIxWn8BNNoNkd2sFAtNy_1gGrBS62EA7gerO33gjVnYJGODku5M5snAgns4TbY4FuEYrDFaTxy5G1qG06PBwtsfXV9t1LHSwITy7sn1C4g9skpXDCXy7FZbDuNxioxt-CK-bn5Uqj0r7ET18TOIVSj_wvzSA2q_yvOKcuFrwfCqvyzC3p3FFcOlIPqWZIm1bWps0VuelbC7wQ-fWYCbp57igjt2OqJhpr6_40RXCxZrt662Y8WJxwJVu72vetoS5YSduk2cJLDfIR7r-R7bXKu8RsfsObzqN3Ghv3qZ3ZuxXokMlekS_wEfI_llgQSoxfEa4XRpsNoh0MYoZvARe-XVghfPIN59aKcyrOxy7u2InadddUB5J6EmxGR9p1gEXnC2LznIPedRjPKpOBuz697wzSlUxdiq2Uxp75ZCrsms9vUnfeLyt3gl8o3b8popbBEE2UV3gi_62cLhClMuFWhS-1H-3Y9r_givvgLTw9YH5hht8nqO8tvYwH4xncpRWz0FEJvHyKl6XcB8x0jBWaVIFi0v6ukkneKiTCbQj1S6fbj4gO_2MF5wEnbmp32pl165y9uNTOGkrdqzbq2A3OZ9jktYlHbrkvuE581JylAbUyQfMNpHBc13t0Kv6KTFkP3ntzUzysVrEn0ztPyWIiMsyXwatctQOqXJp3BGs3BQGwNojmxyJjGPbF9MVqPs0HpILq9dIn6DLnaAzKeZFcPfI_0cpig5skWCfV6U2n-W7vlw5sCfaNI8eAeVVaTE1bK2wUF8sYJGXCp5Y5rDTXQrMFb-ySOVt72waTGP5WmiAxmTIOaIokSVkLiq62uWBSSwqJyR3k39CMH_PZEhM5d72bmMdCb9H9KENk1YTplsvjRKtAVnOBiXFn3dpXEfKk4yCPWVWlQAMep4L3ICrx6kj25NsXKSz_ukCwkBzQzOmHtb1jDOC7rKiMfWANy55oDUOb1S6kZvZF8H-efNMzo2AX0eFg7CM3i6qzvHywMNj1qTHUrx251KCwT-NTF1oPkfiJ19pBc3t80e9fNk29VULIpACiGO4LTPYw8yVptBg-HCpnU8kMc8_JoVgP9eBMJ7TRCOXptE-3QjIXcqMUF6-RPn5FYfDzl9ZmlSV91hn0DL97QB0nngtNeo0Sd0VHV0BxkmwY0frGRKff7P0UboGFLTgCVe5AXNDAzPTW3Py_txIR2ldQb6cFNbkok-x1Murqf2KDnuSTl01RDHx5goHM2scWDIpQiInj5seA6RH2jg1b-azN_CyTKUmk19GjSFwNnXtBBZqNwsboWdfZNc4WnwuIf2GhQbG4MUULZkvS6z28JsN737kMamw-fVMUyDPAaZnkek1lGxax-LXdW0grPksEOWLzNe8lh9KaYOARSttaW3AK2VccZqLz2SSub9VsZhlO7xFCwwBYdq7b7fAKr7LoFmav3Uk_8kxjMYiL0YzwhGZs5b8Qpq7eZlsKhCP9dgDM04WnOpXqpkWG7EHZxSnTWtZMSjnXZ8cBamYhk8vm4gOXfNzchYcTkziCJjninkeSxE70aQmxDbI0aT8vcyYgro5kMCouF35S5WSjn2Bdx2Y_DWGPP6-3PLJHtfNoLRwdn2Q3wJtQGMy_KdTF0raJ3IcLeQRB48GHefOnWb1uKj2kqWEKOdKZvsfMOlbjbm336IacAVp46X-QtFug2g_Mc92phKVozBPS7queFS5G5MkeLTmCvDzDBpApY7XXacgTnugayg4Z_QIcUEpz0x39C_QGY5lI31wD1kgZ4G_WxoDheX1644yKXczo8kq6SaXZ4ntLH3B9F1jHown3QrrmxWMhcz0aVxMkZn0tSKndJDAQIlOYn0wuIhyEB6sxKhO4H_sGdA5Xdzd1-Jf2lRXRHYknj8u_YsuiXFNhw7t1EVRahaVIOxgqZubaEy7_c1d8yeVrtUENqTsFVd5duClqALeX93eBdsIWyum_dkMYfSCGQ8xlzRwCeHiG0N7GCHLhoqI4mumYwHHpKxWxnQKGmuq_2VvKYJR71cssXAcN7oIz3_hBMCO-2dbv_6Z1XvbM4y74wMBi2C498dnbScF0GFaOOklNcVHdXXD8Utsz604MgXLZ4uGl-SLxTdzAQfPS2AGCaoiB3o8wr4FwbdQdgRc8lLAx5HUYKJnFeAi4EYjO5XMfSL5M2_h1c1lKbSt-9dypmig_D4JrWvZpA6Bdo490x31JhVKazIOubYSpgejRcSc_vV3oXVGJvqNRxCa5hfofbZmcDgGKv8CZzOM1VM4FwuVRaTicl91-Lu3uR14L8eyR7G32Ojn3pG8OLKuHfnf0Gj3iosckFefmNYZ-0H-MMdlT1tZvMZZRkXopGY74LiAegrRe16T0Gd5zKYeRr9JwwXBkBF_G9GXyV5TaiFN1PyZZZ_3uYcUZpXFrLB6I_kh0z6jOvdt1cSAtqiIj00A-OAiaMZJk1P1LZsq7XvLp_in2mukp4hoUrOAxdGURrZ7Svf-n3y7ADS-6IzCjd9xW4cOLYZob47BJyG_OLiR45ZmDFaQuTbfr_PY_8lLA9sX4EPKHNid5gt-csMIyC7LhgMqPM4UpM0v6IYGnQBghxTqXX1mtFZH5a-BH2duWjgzRsPeUIVj7sXDJbuHPr0xC8vlRRsAJAARSRfB6pGhSXQP87k3QQsiFTaPqdfU35WrsdrIPii6CR7YXM1atFGT8u1UgrOs89pUtAswDcOnm1I7-VGdIjCWUH6TjF1D8A8I4oTlzoH-Wgc4-gqcs6DmrzCHHM9Rsq3SBf_azW0HKQejxdFojNA6gU8Gjl--N0RSup7cb4N9fvtxkDb4t406KMS-foyn2splmupGTM2vv5tJK2QmtcbcuCtHstZWAu7LF4xXHspkxzv-ml-MP6T34HMDWng7o51jZ0Luhz-3PvQeV__qHOAialvQ090lvoSNtU23o6A7oOk_-NgB6pgXsD2HmvIXg2DOVxdG2yjfXKFJp4pfXwGAWHVC1kfSxvdrpzc6KOdm_v7e1oPxkWQW1ReSg8gdSg_1H9EuyavaeOZFXW-EFDV2azxDmsq-zjDBn0afwLKSUm0S1o3rfhtej-RTNThWc9FyMmlXOw7rLG7ATn70pmjV6vunmD2qPKpS0uZGEeL4jeC_7Rx1JA7VZHsb8JAzMnzdBEuXWIZkHUswiIus-LFVnRoqtyvjHEJcNonJSkmJq9iiUuz3leyYs38IS-X1jzncHejfqQ_PBHojOXvMHwkI4HimaZwJQI16BtGm1LldUAld1ARWLwXzQdHquTRl-mq9t5slYLeXRfzHhFtBQjqzwr8VRwVefY2IK3Ro35t_w4l_06-HmpTGkVYoWwPoou6eK7in6v-hrzGzCYK3FDhAGZ1cmgm47WNC1DV8-_Z0vuIeGi2hZjj-wBLisvM5bK1pYdgnpigLwp17z0Y959ueBGBgbqI9PWmh_VDWjEnsqNw9vVJnUyDA5CkhrXfnIEs9O9UuG9qfn_hgS8eQNftrKXqWIO5WBt-PhRW5fFstiPJ5HPsDcfTEe8cC-O9AX1lOJ74ZL-otszBNXzkQI2AGDC32e0s_nyQB8rGqyfC5fcxKyFxP3dy9SHOC4wwDEHpxwXvdl0hlBo_AJ1T6TxqDmKq7oj1Lh5-PAHH8J4t_zYQxVQkKGuId_ZUOvaow1c6XExPPDz4-woPPmh1BUHFFUxuDsYKhnxyuHUgOgBnFsSzdoH7zktSxr8ZZVUdNQo5j-Y3v4Z3GpFYFQMZ7lIRgKXa-f6cF33spY0rJiC3YLXTXdnxZP18AUl44Ya5XvtC5VO_7zSTwoEDIcMm8UQJUKBw5hVY5LOScgVpF6xuPX9QiYf03dtEs8iqM4oFPKRLlaPVOqwK57pYvVEeOk5x-FgqwaO30X-GV2ot_GSwXuHCuW2lFJQlzF6pKVeFcuW37MH7kg04xD3SUSGsF6VIVIdQQoa5OU3qMQebfIbZsAW58kQ9ZcMHeNEkjngtqyNK82xR7aS038qZ-9Oo97_cB2j-ZpnOVVrbHy1cgZvPbvzOxg6x_tUKaSKRAw9_ZBhtLoo5TH-oxRaBKm98lAkOsfg-UVMVXlayiu3uOA_fWSO3ULEYpt8kWFUdUnt3Eu5C9X9tD21nv4JRYdpWBA9Ru_MY84Qb58iWRmSdgixNK8aO-S3prYxAhSwr-Rd2kBgPRyoZS_XDH1O-VnvX53pkjKPOQqev4jVtOvHIw_T6dzXORbQ__cV367k1fcmINydutClj4sQF-Ge6b9enP_4NVDZKAwQjg3q7kevMuJS3sE5rn1RS3sdXx3DcC1QzWfUTVM_HSZ22LUFbrjS9q7oD4PY3NOBLN8LRvZzBDUAxZfYErvuTdRTFwESq8IGriQTEu0eBfk-h8xuLnBS8JlM5ufvGMpf85LUoqvGgYXuVSq8hQcRoAlT1a9NHSilYKUOAP9tD1BFHU49KrHyBZtoKZDudlGivJGUmPm-B036bC2PEbn50-DD3K6D2ZxFfBac4YmO5nPiskHzQi5DCrrMzk-6X-eojG7bQCSOxK1ov0fLopAlk1AAYHejsYbAvrTiE8IrrAYw30nWww-WP1S2sJO5DQ6qlfuMpuZzBBPVIknr_6UGQvYUDq00TOjDnsVLPAG5dCUMLWIBDlu74y65U-J8XcIGm9TaSeJgDPxbRq5gQOwauhh5PR5WWXfFqstAr_-x-W6szuR_oEXyKlf77PMttfMGPZxKdQir3x4gsQIB_SsI4ziwdAUHKv48pL3EceiyrhmtOAU-5KsOPVZXZD6DbYZPjGqim4moiEFcRw2U9m22QYO8exvbVuYdkZOavL0ZFxcS2ku-LWoz3ImQHxmmrfjHHLtSYbZAjb3YfHGJvgdZohyeL6rv2wDljAtPVzyM0QrhturpXXUskNZKIrCeNpFPlGaKLFYdWIyGbzBkxwdHNQlVJVNmD6CN3mqIp3myN2rUMS3EVh5vEcb49C1TNfDkDQI8UQkGiRCj6joQ8L6iiSwkDgejrgaeNaJF97rGwJ5sGj31QhsdJfH-qVSwLdFPs-mbIA7ykxq7I7_vhNobAiCNCjCZv0nllVsitVxxQUFWViPLHupfS5jfCM904NwFb41N5MVWkpes73b4S3uX3MfklCfsIK5rKgYXbRxvJH8YB3hGXKJ9tEvEiEhUpnNf0ygdy7Cvd9f-4x-oGxYgnlxxsmWj_kIyR13tL5njlLCaxKmVeoKYhiMT5uoRma3hi27LrdacDfFLtkhKrzfdX6x_AfUx7ZMipioTHjdqdTvXi0W4ocQH1vK8520LamvJJzwg0iLv3b53G7hrCY4MFQMoj0sFd6yZjfuGvGzF7ywwjPv1-ZbFcnBci6Bo52hcmOFIU20H73W9p_rtAphiGMDJr8W7dUwV-N4vqZDsFQBqotBUQL8wHX8AcEoLJoVyGvcPIGF-A6RPd9zXhIn_o9rlhVM_m4Ynj-9HkrRU0WhpLcN3YoY73oYgFBibAklSirzNrJI9-wBtTtfzminlsRWpxNhXaAgrILpGusDsb_BegtHl36wHccVyoR9RXkIoR32kyqWymYxWPJy8NXJh2ZEaqk_DRmXnGpuKKlJyLEba8phtuRUt41LhXAGyX5Lh0pHIsUwXdDSE8YARhgG4Gb5vhtJ5Mg7PVCPGkCNxGpvcJZS2iDIl4uDdf2_GBrmDX40Zdd3Suw1kPylYsiuiZHEDPhtUP5NHHdYKiM8nvYhvqNEWn44MN9Pfi4pi00FByftR1uNc9kxnpPFYZf_eTKOsY7ajYk_yTryb7d3tl3nLCoFu3h8TEtK69OYHPmJk_v0dHxezOUftE7zsKcxZJO1XWaSTj5yBDYwdf5axnTUkRDZshWsSfAZI5EJTCnHSqcEyFRkVJ5HfAcJX2DeErHRA7Z8Z87CQr8yYnExhx6Z4ATSxcYLSUJQYCktQbmX8_-UAyF-mOrAGpq3yMFN3hCvYqqWVgq-oUmTAknzRnNQ6i6x81IEARXFSiHL42KDNjU4lAw6tTRu0XGbQ9zgkFo16I6BiasfZF_7ttlq4vB-o783cDhhYwYn_iakM7Vah2SUzWeN-aGM4_HGQJyOfH1ZdAz_TbJx9r9CpTtsKxisRvzz86RePIF2xMeVzKvBMb_qo5EhPcCfshJuMI_iPZDH5h-Y2AieGTBqy0EuQ1CNKiJNUmbNy6Plb1ecUy-wPM7zl8VRBCO_Rc--upJhf-5AoAgM37XR98tzRJuQMgyxxMSpvrMg0mSFdhvgUeZ1XoeA6RzUI3X_6Ieq4cDABwbvPLaLMg09tCGObrcMZklQ4JYCEZRTu_nWkVl211Pzy77vKY5JI-Cv-QSpFNrjq8MDnsaFIOv1sTV3e6b_Gjwm9xnkHaNZSlKHg2BJ6HrrGPB8iT0k81KHyALAgQeLG-JJhvVxeYyyx86aQbGV4Lcm946gIl0zWPd70ab6UqhaAdv8ZGnVc5L5nCCC6vhzjLpGY_y-r006tC-G6rbcKV6dHAdSr5dE23V3Kq9uoR6PsQMyxixeVeHy-XdaAwfrH0JdwAGhiuIJN8lLuhncvf9vRt346sXTZnPHofFK7aTDWGsEbva8TwDFLM9KwsX_HkEv0OB8pVsl4cGdr6bbQxAEjxeDW-H5kQop07zcfrKzQZn--d7UEncd9ZRi6LVn0mCH5W1xNw4Ylx_t8Qz_3bDVdApskdXqJXIa1M86n1biDzJhVofI9HmOwpzRE0096Zjts2p5XXJmSBc4j2FOhHBXyWsd7fVgEM90qgFhEbDS_wKXfLQh7r6fnqy3KDuAd5n1vYQdhvXxE5L7sZg1bWjA-N4hbMvQ|regm\\\",\\\"INTERNAL_INFRA_screen_id\\\":\\\"CAA_REG_TERMS_OF_SERVICE\\\"},\\\"client_input_params\\\":{\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"},\\\"machine_id\\\":\\\"\\\",\\\"block_store_machine_id\\\":\\\"\\\"}}\"}"
        }
        response= self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.tos&type=app&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head)
        if 'CAA_REG_IG_SESSIONLESS_NUX_DOGFOODING_INFO' in response.text.replace('\\', ' '):
            print('* Registrasi Tos Instagram')
            self.Main_Create_Akun()
        else:
            print('* Response Error: Registrasi Tos Instagram Tidak Valid!\n', end='\r')
            time.sleep(2)
            CreateIgWblock()
        
    def Main_Create_Akun(self):
        body = {
            **self.body,
            "__req": "16",
            "params": "{\"params\":\"{\\\"server_params\\\":{\\\"event_request_id\\\":\\\""+self.evenid+"\\\",\\\"app_id\\\":0,\\\"reg_info\\\":\\\"{\\\\\\\"first_name\\\\\\\":null,\\\\\\\"last_name\\\\\\\":null,\\\\\\\"full_name\\\\\\\":\\\\\\\""+self.fullname+"\\\\\\\",\\\\\\\"contactpoint\\\\\\\":\\\\\\\""+self.email+"\\\\\\\",\\\\\\\"ar_contactpoint\\\\\\\":null,\\\\\\\"contactpoint_type\\\\\\\":\\\\\\\"email\\\\\\\",\\\\\\\"is_using_unified_cp\\\\\\\":false,\\\\\\\"unified_cp_screen_variant\\\\\\\":null,\\\\\\\"is_cp_auto_confirmed\\\\\\\":false,\\\\\\\"is_cp_auto_confirmable\\\\\\\":false,\\\\\\\"is_cp_claimed\\\\\\\":false,\\\\\\\"confirmation_code\\\\\\\":\\\\\\\""+self.encrypt_kode+"\\\\\\\",\\\\\\\"birthday\\\\\\\":\\\\\\\""+self.birthday+"\\\\\\\",\\\\\\\"birthday_derived_from_age\\\\\\\":null,\\\\\\\"did_use_age\\\\\\\":false,\\\\\\\"gender\\\\\\\":null,\\\\\\\"use_custom_gender\\\\\\\":false,\\\\\\\"custom_gender\\\\\\\":null,\\\\\\\"encrypted_password\\\\\\\":\\\\\\\""+self.Pwd4+"\\\\\\\",\\\\\\\"username\\\\\\\":\\\\\\\""+self.username+"\\\\\\\",\\\\\\\"username_prefill\\\\\\\":\\\\\\\""+self.username+"\\\\\\\",\\\\\\\"fb_conf_source\\\\\\\":null,\\\\\\\"device_id\\\\\\\":\\\\\\\""+self.device_id+"\\\\\\\",\\\\\\\"ig4a_qe_device_id\\\\\\\":null,\\\\\\\"family_device_id\\\\\\\":null,\\\\\\\"user_id\\\\\\\":null,\\\\\\\"safetynet_token\\\\\\\":null,\\\\\\\"skip_slow_rel_check\\\\\\\":false,\\\\\\\"safetynet_response\\\\\\\":null,\\\\\\\"machine_id\\\\\\\":\\\\\\\""+self.machine_id+"\\\\\\\",\\\\\\\"profile_photo\\\\\\\":null,\\\\\\\"profile_photo_id\\\\\\\":null,\\\\\\\"profile_photo_upload_id\\\\\\\":null,\\\\\\\"avatar\\\\\\\":null,\\\\\\\"email_oauth_token_no_contact_perm\\\\\\\":null,\\\\\\\"email_oauth_token\\\\\\\":null,\\\\\\\"email_oauth_tokens\\\\\\\":[],\\\\\\\"should_skip_two_step_conf\\\\\\\":null,\\\\\\\"openid_tokens_for_testing\\\\\\\":null,\\\\\\\"encrypted_msisdn\\\\\\\":null,\\\\\\\"encrypted_msisdn_for_safetynet\\\\\\\":null,\\\\\\\"cached_headers_safetynet_info\\\\\\\":null,\\\\\\\"should_skip_headers_safetynet\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id\\\\\\\":null,\\\\\\\"headers_last_infra_flow_id_safetynet\\\\\\\":null,\\\\\\\"headers_flow_id\\\\\\\":null,\\\\\\\"was_headers_prefill_available\\\\\\\":null,\\\\\\\"sso_enabled\\\\\\\":null,\\\\\\\"existing_accounts\\\\\\\":null,\\\\\\\"used_ig_birthday\\\\\\\":null,\\\\\\\"sync_info\\\\\\\":null,\\\\\\\"create_new_to_app_account\\\\\\\":null,\\\\\\\"skip_session_info\\\\\\\":null,\\\\\\\"ck_error\\\\\\\":null,\\\\\\\"ck_id\\\\\\\":null,\\\\\\\"ck_nonce\\\\\\\":null,\\\\\\\"should_save_password\\\\\\\":null,\\\\\\\"horizon_synced_username\\\\\\\":null,\\\\\\\"fb_access_token\\\\\\\":null,\\\\\\\"horizon_synced_profile_pic\\\\\\\":null,\\\\\\\"is_identity_synced\\\\\\\":false,\\\\\\\"is_msplit_reg\\\\\\\":null,\\\\\\\"is_spectra_reg\\\\\\\":null,\\\\\\\"spectra_reg_token\\\\\\\":null,\\\\\\\"spectra_reg_guardian_id\\\\\\\":null,\\\\\\\"user_id_of_msplit_creator\\\\\\\":null,\\\\\\\"msplit_creator_nonce\\\\\\\":null,\\\\\\\"dma_data_combination_consent_given\\\\\\\":null,\\\\\\\"xapp_accounts\\\\\\\":null,\\\\\\\"fb_device_id\\\\\\\":null,\\\\\\\"fb_machine_id\\\\\\\":null,\\\\\\\"ig_device_id\\\\\\\":null,\\\\\\\"ig_machine_id\\\\\\\":null,\\\\\\\"should_skip_nta_upsell\\\\\\\":null,\\\\\\\"big_blue_token\\\\\\\":null,\\\\\\\"skip_sync_step_nta\\\\\\\":null,\\\\\\\"caa_reg_flow_source\\\\\\\":\\\\\\\"login_home_native_integration_point\\\\\\\",\\\\\\\"ig_authorization_token\\\\\\\":null,\\\\\\\"full_sheet_flow\\\\\\\":false,\\\\\\\"crypted_user_id\\\\\\\":null,\\\\\\\"is_caa_perf_enabled\\\\\\\":false,\\\\\\\"is_preform\\\\\\\":true,\\\\\\\"ignore_suma_check\\\\\\\":false,\\\\\\\"dismissed_login_upsell_with_cna\\\\\\\":false,\\\\\\\"ignore_existing_login\\\\\\\":false,\\\\\\\"ignore_existing_login_from_suma\\\\\\\":false,\\\\\\\"ignore_existing_login_after_errors\\\\\\\":false,\\\\\\\"suggested_first_name\\\\\\\":null,\\\\\\\"suggested_last_name\\\\\\\":null,\\\\\\\"suggested_full_name\\\\\\\":null,\\\\\\\"frl_authorization_token\\\\\\\":null,\\\\\\\"post_form_errors\\\\\\\":null,\\\\\\\"skip_step_without_errors\\\\\\\":false,\\\\\\\"existing_account_exact_match_checked\\\\\\\":false,\\\\\\\"existing_account_fuzzy_match_checked\\\\\\\":false,\\\\\\\"email_oauth_exists\\\\\\\":false,\\\\\\\"confirmation_code_send_error\\\\\\\":null,\\\\\\\"is_too_young\\\\\\\":false,\\\\\\\"source_account_type\\\\\\\":null,\\\\\\\"whatsapp_installed_on_client\\\\\\\":false,\\\\\\\"confirmation_medium\\\\\\\":null,\\\\\\\"source_credentials_type\\\\\\\":null,\\\\\\\"source_cuid\\\\\\\":null,\\\\\\\"source_account_reg_info\\\\\\\":null,\\\\\\\"soap_creation_source\\\\\\\":null,\\\\\\\"source_account_type_to_reg_info\\\\\\\":null,\\\\\\\"registration_flow_id\\\\\\\":\\\\\\\""+self.regid+"\\\\\\\",\\\\\\\"should_skip_youth_tos\\\\\\\":true,\\\\\\\"is_youth_regulation_flow_complete\\\\\\\":false,\\\\\\\"is_on_cold_start\\\\\\\":false,\\\\\\\"email_prefilled\\\\\\\":false,\\\\\\\"cp_confirmed_by_auto_conf\\\\\\\":false,\\\\\\\"auto_conf_info\\\\\\\":null,\\\\\\\"in_sowa_experiment\\\\\\\":false,\\\\\\\"youth_regulation_config\\\\\\\":{\\\\\\\"isEnabled\\\\\\\":true,\\\\\\\"consentJurisdiction\\\\\\\":\\\\\\\"ID\\\\\\\",\\\\\\\"shouldRaiseAgeGating\\\\\\\":false,\\\\\\\"ageOfConsent\\\\\\\":18,\\\\\\\"ageOfParentalConsent\\\\\\\":18,\\\\\\\"requiresAgeVerification\\\\\\\":false,\\\\\\\"requiresParentalConsent\\\\\\\":false,\\\\\\\"ageThresholdForRegBlocking\\\\\\\":null},\\\\\\\"conf_allow_back_nav_after_change_cp\\\\\\\":null,\\\\\\\"conf_bouncing_cliff_screen_type\\\\\\\":null,\\\\\\\"conf_show_bouncing_cliff\\\\\\\":null,\\\\\\\"eligible_to_flash_call_in_ig4a\\\\\\\":false,\\\\\\\"flash_call_permissions_status\\\\\\\":null,\\\\\\\"attestation_result\\\\\\\":null,\\\\\\\"request_data_and_challenge_nonce_string\\\\\\\":null,\\\\\\\"confirmed_cp_and_code\\\\\\\":[],\\\\\\\"notification_callback_id\\\\\\\":null,\\\\\\\"reg_suma_state\\\\\\\":0,\\\\\\\"is_msplit_neutral_choice\\\\\\\":false,\\\\\\\"msg_previous_cp\\\\\\\":null,\\\\\\\"ntp_import_source_info\\\\\\\":null,\\\\\\\"youth_consent_decision_time\\\\\\\":null,\\\\\\\"should_show_spi_before_conf\\\\\\\":true,\\\\\\\"google_oauth_account\\\\\\\":null,\\\\\\\"is_reg_request_from_ig_suma\\\\\\\":false,\\\\\\\"device_emails\\\\\\\":[],\\\\\\\"is_toa_reg\\\\\\\":false,\\\\\\\"is_threads_public\\\\\\\":false,\\\\\\\"spc_import_flow\\\\\\\":false,\\\\\\\"caa_play_integrity_attestation_result\\\\\\\":null,\\\\\\\"client_known_key_hash\\\\\\\":null,\\\\\\\"flash_call_provider\\\\\\\":null,\\\\\\\"spc_birthday_input\\\\\\\":false,\\\\\\\"failed_birthday_year_count\\\\\\\":null,\\\\\\\"user_presented_medium_source\\\\\\\":null,\\\\\\\"user_opted_out_of_ntp\\\\\\\":null,\\\\\\\"is_from_registration_reminder\\\\\\\":false,\\\\\\\"show_youth_reg_in_ig_spc\\\\\\\":false,\\\\\\\"fb_suma_combined_landing_candidate_variant\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"fb_suma_is_high_confidence\\\\\\\":null,\\\\\\\"screen_visited\\\\\\\":[\\\\\\\"CAA_REG_CONTACT_POINT_PHONE\\\\\\\",\\\\\\\"CAA_REG_CONTACT_POINT_EMAIL\\\\\\\",\\\\\\\"CAA_REG_CONFIRMATION_SCREEN\\\\\\\",\\\\\\\"CAA_REG_PASSWORD\\\\\\\",\\\\\\\"bloks.caa.reg.birthday\\\\\\\",\\\\\\\"CAA_REG_IG_NAME_SCREEN\\\\\\\",\\\\\\\"CAA_REG_IG_USERNAME\\\\\\\"],\\\\\\\"fb_email_login_upsell_skip_suma_post_tos\\\\\\\":false,\\\\\\\"fb_suma_is_from_email_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_is_from_phone_login_upsell\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_skipped_warmup\\\\\\\":false,\\\\\\\"fb_suma_login_upsell_show_list_cell_link\\\\\\\":false,\\\\\\\"should_prefill_cp_in_ar\\\\\\\":null,\\\\\\\"ig_partially_created_account_user_id\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce\\\\\\\":null,\\\\\\\"ig_partially_created_account_nonce_expiry\\\\\\\":null,\\\\\\\"force_sessionless_nux_experience\\\\\\\":false,\\\\\\\"has_seen_suma_landing_page_pre_conf\\\\\\\":false,\\\\\\\"has_seen_suma_candidate_page_pre_conf\\\\\\\":false,\\\\\\\"suma_on_conf_threshold\\\\\\\":-1,\\\\\\\"is_keyboard_autofocus\\\\\\\":null,\\\\\\\"pp_to_nux_eligible\\\\\\\":false,\\\\\\\"should_show_error_msg\\\\\\\":true,\\\\\\\"welcome_ar_entrypoint\\\\\\\":\\\\\\\"control\\\\\\\",\\\\\\\"th_profile_photo_token\\\\\\\":null,\\\\\\\"attempted_silent_auth_in_fb\\\\\\\":false,\\\\\\\"cp_suma_results_map\\\\\\\":null,\\\\\\\"source_username\\\\\\\":null,\\\\\\\"next_uri\\\\\\\":null,\\\\\\\"should_use_next_uri\\\\\\\":null,\\\\\\\"fb_encrypted_partial_new_account_properties\\\\\\\":null}\\\",\\\"flow_info\\\":\\\"{\\\\\\\"flow_name\\\\\\\":\\\\\\\"new_to_family_ig_mweb_default\\\\\\\",\\\\\\\"flow_type\\\\\\\":\\\\\\\"ntf\\\\\\\"}\\\",\\\"current_step\\\":7,\\\"INTERNAL__latency_qpl_marker_id\\\":36707139,\\\"INTERNAL__latency_qpl_instance_id\\\":\\\"24190163600017\\\",\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"family_device_id\\\":null,\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"offline_experiment_group\\\":null,\\\"layered_homepage_experiment_group\\\":null,\\\"is_platform_login\\\":0,\\\"is_from_logged_in_switcher\\\":0,\\\"is_from_logged_out\\\":0,\\\"access_flow_version\\\":\\\"pre_mt_behavior\\\"},\\\"client_input_params\\\":{\\\"device_id\\\":\\\""+self.device_id+"\\\",\\\"waterfall_id\\\":\\\""+self.waterid+"\\\",\\\"machine_id\\\":\\\"\\\",\\\"ck_error\\\":\\\"\\\",\\\"ck_id\\\":\\\"\\\",\\\"ck_nonce\\\":\\\"\\\",\\\"should_ignore_existing_login\\\":0,\\\"encrypted_msisdn\\\":\\\"\\\",\\\"headers_last_infra_flow_id\\\":\\\"\\\",\\\"reached_from_tos_screen\\\":1,\\\"no_contact_perm_email_oauth_token\\\":\\\"\\\",\\\"failed_birthday_year_count\\\":\\\"{}\\\",\\\"ig_partially_created_account_user_id\\\":0,\\\"ig_partially_created_account_nonce\\\":\\\"\\\",\\\"ig_partially_created_account_nonce_expiry\\\":0,\\\"force_sessionless_nux_experience\\\":0,\\\"lois_settings\\\":{\\\"lois_token\\\":\\\"\\\"}}}\"}"
        }        
        self.head.update({
            "user-agent": self.useragents,
        })
        response = self.r.post('https://i.instagram.com/async/wbloks/fetch/?appid=com.bloks.www.bloks.caa.reg.create.account.async&type=action&__bkv=91b4f3c0d432ef4a2d4f3ad30ae9fc795041a95a6c6b9a2a8f230816c480d891', data=body, headers=self.head, proxies=self.proxs)
        if 'CAA_REG_IG_PARTIALLY_CREATED_ACCOUNT_INFO' in str(response.text.replace('\\', ' ')):
            cookies = (';'.join(['%s=%s'%(name, value) for name, value in self.r.cookies.get_dict().items()]))
            self.Cek_Accounts_Aktif(cookies)
        else:
            print('* Response Error: Registrasi Accounts Tidak Valid!\n')
            time.sleep(2)
            CreateIgWblock()

    def Cek_Accounts_Aktif(self, cookies):
        try:
            response = self.r.get("https://i.instagram.com/api/v1/users/web_profile_info/?username={}".format(self.username), headers = {
              "user-agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 Instagram 243.1.0.14.111 (iPhone13,3; iOS 15_5; en_US; en-US; scale=3.00; 1170x2532; 382468104) NW/3"
            })
            #print(f'* {response.text}')
            if 'checkpoint_required' in str(response.text):
                self.follme = AccountsCenter().FollowMe(cookies)
                self.change_profile = AccountsCenter().Change_Profile(cookies)
                self.add_bio_profile = AccountsCenter().Add_Bio_Profile(self.email, self.fullname, self.username, cookies)
                print('{}\n{}\n{}'.format(self.change_profile, self.add_bio_profile, self.follme))
                Console().print(f"""* Create Instagram OK
  - cookies: [green]{cookies}[white]
  - useragent: [green]{self.useragents}[white]
  - save as folder: OK/[green]{self.ok}[white]\n""")
                two = AccountsCenter().Aktifkan2F(cookies)
                kode, key, status = two['kode-pemulihan'], two['SecretKey'], two['success-a2f']
                print('* Mengaktifkan A2F Status: {}\n* Mengambil Key A2F: {}\n* Kode Cadangan A2F: {}\n'.format(status,key,kode))
                save = f'{self.username}|{self.password}|{self.cmail}|{self.birthday}|A2F: {status}|{key}|{kode}{cookies}\n'
                open('OK/'+self.ok,'a').write(save)
            elif 'challenge_required' in str(response.text):
                # Treat "challenge_required" (checkpoint/challenge) as OK
                #  do the same post-registration steps and save into OK folder.
                self.follme = AccountsCenter().FollowMe(cookies)
                self.change_profile = AccountsCenter().Change_Profile(cookies)
                self.add_bio_profile = AccountsCenter().Add_Bio_Profile(self.email, self.fullname, self.username, cookies)
                print('{}\n{}\n{}'.format(self.change_profile, self.add_bio_profile, self.follme))
                Console().print(f"""* Create Instagram OK (challenge handled as OK)
  - cookies: [green]{cookies}[white]
  - useragent: [green]{self.useragents}[white]
  - save as folder: OK/[green]{self.ok}[white]\n""")
                # try to enable 2FA; if AccountsCenter returns status, prefer it, otherwise force True
                two = AccountsCenter().Aktifkan2F(cookies)
                kode = two.get('kode-pemulihan') if isinstance(two, dict) else None
                key = two.get('SecretKey') if isinstance(two, dict) else None
                status = two.get('success-a2f') if isinstance(two, dict) else True
                # ensure we mark A2F true where requested
                if status is None:
                    status = True
                print('* Mengaktifkan A2F Status: {}\n* Mengambil Key A2F: {}\n* Kode Cadangan A2F: {}\n'.format(status,key,kode))
                save = f'{self.username}|{self.password}|{self.cmail}|{self.birthday}|A2F: {status}|{key}|{kode}{cookies}\n'
                open('OK/'+self.ok,'a').write(save)
            else:
                print('* Response Error: Gagal Cek Akun Aktif!\n')
                time.sleep(2)
                CreateIgWblock()
        except (Exception) as e: print(f'* Error: {str(e).title()}')


            
